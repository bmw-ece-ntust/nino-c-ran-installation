@startuml
!theme plain
skinparam sequenceMessageAlign center
skinparam dpi 212

actor User
participant "<font color=white>Master Node\n(RHEL 9.4)" as MasterNode #8bc34a
participant "<font color=white>Worker Node\n(RT Kernel)" as WorkerNode #8bc34a

note over User : Manual OAI Setup

User -> MasterNode : ./script/provision/master_setup.sh
activate MasterNode
MasterNode -> MasterNode : Setup K8s master
create "<font color=white>Kubernetes Cluster" as K8sCluster #2196f3
MasterNode -> K8sCluster : Initialize cluster
activate K8sCluster
MasterNode --> User : Ready + join token
deactivate MasterNode

User -> WorkerNode : ./script/provision/worker_setup.sh
activate WorkerNode
WorkerNode -> WorkerNode : Install RT kernel + SR-IOV
WorkerNode -> WorkerNode : /root/join-cluster.sh
WorkerNode -> K8sCluster : Join cluster
WorkerNode --> User : Joined successfully
WorkerNode --> User : Reboot required
deactivate WorkerNode

note over User : Reboot worker

User -> K8sCluster : Deploy OAI manifests
K8sCluster -> K8sCluster : Deploy GNB monolithic
create "<font color=white>OAI GNB/DU" as OAI #e91e63
K8sCluster -> OAI : Instantiate GNB pods
activate OAI
OAI --> K8sCluster : GNB running on worker
K8sCluster --> User : OAI GNB ready
deactivate K8sCluster

participant "O-RU Node\n(Preconfigured)" as ORU
User -> ORU : Configure O-RU connection
activate ORU
ORU -> ORU : Load predefined config
ORU -> OAI : Establish fronthaul connection
OAI --> ORU : Connection established
ORU --> User : O-RU connected to GNB
deactivate ORU
deactivate OAI

note over User, ORU : OAI System Ready\nGNB â†” O-RU

@enduml
